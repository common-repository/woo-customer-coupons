jQuery(document).ready((function(o){"use strict";o(document.body).on("removed_coupon removed_coupon_in_checkout",(function(e,c){o(`.viwcc-coupon-wrap[data-coupon_code="${c}"]`).removeClass("viwcc_hidden")})),o(document).on("click",".viwcc-coupon-wrap-available:not(.viwcc-coupon-wrap-loading)",(function(e){e.preventDefault(),e.stopPropagation();let c=o(this),a=o(this).data("coupon_code");if(!a)return!1;o.ajax({url:viwcc_param.wc_ajax_url.toString().replace("%%endpoint%%","viwcc_apply_coupon"),type:"post",data:{coupon_code:a,viwcc_nonce:viwcc_param.viwcc_nonce},beforeSend:function(){c.addClass("viwcc-coupon-wrap-loading")},success:function(e){e.message&&(o(".woocommerce-error, .woocommerce-message, .woocommerce-info").remove(),o(".woocommerce-notices-wrapper").length&&!o(".vi-wcaio-sidebar-cart-checkout-wrap").length?(o(".woocommerce-notices-wrapper").last().html(e.message),o.scroll_to_notices(o(".woocommerce-notices-wrapper"))):o(document.body).trigger("villatheme_show_message",[e.message,[e.status],"",!1,4500])),"undefined"!=typeof wc_cart_params?(o(document.body).trigger("applied_coupon",[a]),o('[name="update_cart"]').length&&o('[name="update_cart"]').closest("form").length?o('[name="update_cart"]').removeAttr("disabled").trigger("click"):location.reload()):"undefined"!=typeof wc_checkout_params?(o(document.body).trigger("applied_coupon_in_checkout",[a]),o(document.body).trigger("update_checkout",{update_shipping_method:!1})):o(document.body).trigger("applied_coupon",[a]),c.removeClass("viwcc-coupon-wrap-loading").addClass("viwcc_hidden")},error:function(o){console.log(o),c.removeClass("viwcc-coupon-wrap-loading")}})}))}));