jQuery(document).ready((function(c){"use strict";c(".vi-ui.vi-ui-main.tabular.menu .item").vi_tab({history:!0,historyType:"hash"}),c(".vi-ui.dropdown").unbind().dropdown(),c(".vi-ui.checkbox").unbind().checkbox(),c('input[type="checkbox"]').unbind().on("change",(function(){c(this).prop("checked")?(c(this).parent().find('input[type="hidden"]').val("1"),c(this).is("#viwcc-coupon_date-checkbox")&&c(".viwcc-coupon-date").removeClass("vi_wcc_hidden")):(c(this).parent().find('input[type="hidden"]').val(""),c(this).is("#viwcc-coupon_date-checkbox")&&c(".viwcc-coupon-date").addClass("vi_wcc_hidden"))})),c('input[type="number"]').on("change",(function(){switch(c(this).attr("id")){case"wcc_button_shop_now_size":c(".wcc-button-shop-now").css({fontSize:c(this).val()+"px"});break;case"wcc_button_shop_now_border_radius":c(".wcc-button-shop-now").css({borderRadius:c(this).val()+"px"})}})),c("#wcc_button_shop_now_url").on("change",(function(){c(".wcc-button-shop-now").attr("href",c(this).val())})),c(".wcc_template").dropdown({onChange:function(o){c(".vi_wcc_template_style, .viwcc-coupon-preview").addClass("vi_wcc_hidden"),c(".vi_wcc_template_style.vi_wcc_template_"+o+", .viwcc-coupon-preview-"+o).removeClass("vi_wcc_hidden")}}),c(".color-field").each((function(){c(this).css({backgroundColor:c(this).val()})})).unbind().minicolors({change:function(o,e){let n=c(this).parent().find(".color-field");switch(n.css({backgroundColor:o}),n.attr("id")){case"wcc_button_shop_now_bg_color":c(".wcc-button-shop-now").css({backgroundColor:o});break;case"wcc_button_shop_now_color":c(".wcc-button-shop-now").css({color:o});break;case"wcc-temple-four-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4").css({backgroundColor:o});break;case"wcc-temple-four-title-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-title").css({backgroundColor:o});break;case"wcc-temple-four-title-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-title").css({color:o});break;case"wcc-temple-four-term-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-content").css({color:o});break;case"wcc-temple-four-border-color":let e=c(".wcc-temple-four-border-type").dropdown("get value");"none"===e?c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4").css({boxShadow:"inset 0 0 10px "+o}):c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-content").css({borderStyle:e,borderColor:o,borderWidth:"0 1px 1px"});break;case"wcc-temple-three-background-color":case"wcc-temple-three-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3").css({backgroundColor:o});break;case"wcc-temple-three-title-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3 .viwcc-coupon-content .viwcc-coupon-title").css({color:o});break;case"wcc-temple-three-term-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3 .viwcc-coupon-content .viwcc-coupon-des").css({color:o});break;case"wcc-temple-three-expire-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3 .viwcc-coupon-content .viwcc-coupon-date").css({color:o});break;case"wcc-temple-three-border-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3").css({border:"1px "+c(".wcc-temple-three-border-type").dropdown("get value")+" "+o});break;case"wcc-temple-two-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-2").css({backgroundColor:o});break;case"wcc-temple-two-title-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-2 .viwcc-coupon-content").css({color:o});break;case"wcc-temple-two-border-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-2 .viwcc-coupon-content").css({border:"1px dotted "+o});break;case"wcc-temple-one-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content").css({backgroundColor:o});break;case"wcc-temple-one-content-background-color1":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content").css({backgroundImage:"linear-gradient(315deg,"+o+", "+c("#wcc-temple-one-content-background-color2").val()+" 85%)"});break;case"wcc-temple-one-content-background-color2":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content").css({backgroundImage:"linear-gradient(315deg,"+c("#wcc-temple-one-content-background-color1").val()+", "+o+" 85%)"});break;case"wcc-temple-one-content-title-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content .viwcc-coupon-title").css({color:o});break;case"wcc-temple-one-content-des-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content .viwcc-coupon-des").css({color:o});break;case"wcc-temple-one-content-expire-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-content .viwcc-coupon-date").css({color:o});break;case"wcc-temple-one-button-background-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-button").css({backgroundColor:o});break;case"wcc-temple-one-button-text-color":c(".viwcc-coupon-wrap.viwcc-coupon-wrap-1 .viwcc-coupon-button").css({color:o})}},animationSpeed:50,animationEasing:"swing",changeDelay:0,control:"wheel",defaultValue:"",format:"rgb",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!0,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}),c(".wcc-temple-three-border-type ").dropdown({onChange:function(o){c(".viwcc-coupon-wrap.viwcc-coupon-wrap-3").css({border:"1px "+o+" "+c("#wcc-temple-three-border-color").val()})}}),c(".wcc-temple-four-border-radius ").dropdown({onChange:function(o){c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4").css({borderRadius:o}),c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-content").css({borderBottomLeftRadius:o,borderBottomRightRadius:o})}}),c(".wcc-temple-four-border-type").dropdown({onChange:function(o){let e=c("#wcc-temple-four-border-color").val();"none"===o?c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4").css({boxShadow:"inset 0 0 10px "+e}):(c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4").css({boxShadow:"unset"}),c(".viwcc-coupon-wrap.viwcc-coupon-wrap-4 .viwcc-coupon-content").css({borderStyle:o,borderColor:e,borderWidth:"0 1px 1px"}))}}),c(document).on("keyup","#viwcc-coupon_title, #viwcc-coupon_desc",(function(){let o=c(this).val();o&&(o=o.replaceAll("{coupon_code}",viwcc_admin_settings.coupon_code).replaceAll("{coupon_value}",viwcc_admin_settings.coupon_value).replaceAll("{min_spend}",viwcc_admin_settings.min_spend).replaceAll("{max_spend}",viwcc_admin_settings.max_spend)),"viwcc-coupon_title"===c(this).attr("id")?c(".viwcc-coupon-title").html(o):c(".viwcc-coupon-des").html(o)})),c(".preview-emails-html-overlay").on("click",(function(){c(".preview-emails-html-container").addClass("vi_wcc_hidden")})),c(".wcc-preview-emails-button").on("click",(function(){c(this).html("Please wait..."),c.ajax({url:viwcc_admin_settings.ajax_url,type:"GET",dataType:"JSON",data:{action:"wcc_preview_emails",nonce:c("#_vi_wcc_option_nonce").val(),heading:c("#wcc_mail_heading").val(),content:tinyMCE.get("wcc_mail_content")?tinyMCE.get("wcc_mail_content").getContent():c("#wcc_mail_content").val(),button_shop_title:c("#wcc_button_shop_now_title").val(),button_shop_url:c("#wcc_button_shop_now_url").val(),button_shop_bg_color:c("#wcc_button_shop_now_bg_color").val(),button_shop_color:c("#wcc_button_shop_now_color").val(),button_shop_size:c("#wcc_button_shop_now_size").val(),button_shop_border_radius:c("#wcc_button_shop_now_border_radius").val()},success:function(o){c(".wcc-preview-emails-button").html("Preview emails"),o&&(c(".preview-emails-html").html(o.html),c(".preview-emails-html-container").removeClass("vi_wcc_hidden"))},error:function(o){c(".wcb-preview-emails-button").html("Preview emails")}})})),c(".vi_wcc_settings_default").unbind().click((function(){confirm(viwcc_admin_settings.setting_default)&&c(this).attr("type","submit")}))}));